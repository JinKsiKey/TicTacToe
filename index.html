<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ò–¥–µ–∞–ª—å–Ω—ã–π –¥–≤–∏–∂–æ–∫ –¥–ª—è –∫—Ä–µ—Å—Ç–∏–∫–æ–≤-–Ω–æ–ª–∏–∫–æ–≤</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');


    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: radial-gradient(circle at center, #0f0c29, #302b63, #141429);
      font-family: 'Orbitron', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #ff009d;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 25px 15px 40px;
      user-select: none;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 0.15em;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: #c6fffd;
      text-shadow:
        0 0 8px #00fff7,
        0 0 20px #00fff7,
        0 0 30px #00fff7,
        0 0 40px #00fff7;
    }

    p.emphasis {
      font-size: 1.25rem;
      font-style: italic;
      color: #c6fffd;
      margin-top: 0;
      margin-bottom: 35px;
      text-shadow: 0 0 8px #00e0d9cc;
    }

    section {
      background: rgba(10, 10, 30, 0.55);
      border-radius: 20px;
      padding: 25px 35px;
      margin-bottom: 35px;
      width: 100%;
      max-width: 620px;
      box-shadow:
        0 0 15px #00fff7aa,
        inset 0 0 20px #00fff7cc;
      backdrop-filter: blur(18px);
      border: 1.5px solid #00fff7aa;
    }

    section h2 {
      margin-top: 0;
      margin-bottom: 18px;
      font-weight: 700;
      font-size: 1.8rem;
      color: #c6fffd;
      text-shadow:
        0 0 12px #00fff7,
        0 0 20px #00fff7;
      border-bottom: 2px solid #00fff7cc;
      padding-bottom: 6px;
      letter-spacing: 0.06em;
    }

    section h3 {
      margin-top: 1.4em;
      margin-bottom: 0.5em;
      font-weight: 700;
      font-size: 1.3rem;
      color: #c6fffd;
      text-shadow:
        0 0 8px #00fff7,
        0 0 15px #00fff7;
    }

    section ul {
      margin-top: 0;
      margin-bottom: 1em;
      padding-left: 1.3em;
      color: #ff009d;
      font-weight: 600;
      line-height: 1.5;
    }

    section ul li {
      margin-bottom: 0.5em;
    }


    #image-section {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 15px;
      padding-bottom: 50px;
    }

    #image-section h2 {
      margin-bottom: 30px;
      font-weight: 700;
      color: #c6fffd;
      font-weight: 700;
      font-size: 1.8rem;
      text-shadow:
        0 0 10px #00fff7,
        0 0 20px #00fff7;
    }

    #image-section img {
      max-width: 400px;
      width: 100%;
      height: auto;
      border-radius: 18px;
      border: 3.5px solid #00fff7cc;
      box-shadow:
        0 0 25px #00fff7aa,
        inset 0 0 40px #00fff7bb;
      transition: transform 0.3s ease;
    }

    #image-section img:hover,
    #image-section img:focus {
      outline: none;
      transform: scale(1.05);
      box-shadow:
        0 0 45px #00fff7ee,
        inset 0 0 60px #00fff7ff;
    }

    /* –°–µ–∫—Ü–∏—è —Å –∫–Ω–æ–ø–∫–æ–π —Å–∫–∞—á–∏–≤–∞–Ω–∏—è */
    #download-section {
      text-align: center;
      margin-bottom: 35px;
      padding-top: 50px;
      padding-bottom: 50px;
    }

    #download-section button {
      background: linear-gradient(170deg, #00fff7, #8f0086);
      border: none;
      color: #ffffff;
      font-size: 1.4rem;
      font-weight: 700;
      padding: 16px 48px;
      border-radius: 40px;
      cursor: pointer;
      box-shadow:
        0 0 8px #c6fffd,
        0 0 45px #00fff7;
      transition:
        background 0.4s ease,
        box-shadow 0.4s ease,
        transform 0.15s ease;
      user-select: none;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-family: 'Orbitron', sans-serif;
    }

    #download-section button:hover,
    #download-section button:focus-visible {
      background: linear-gradient(180deg, #ffffff, #9eefeb);
      color: #ff009d;
      box-shadow:
        0 0 50px #ff009d;
      transform: scale(1.08);
      outline: none;
    }

    #download-section button:active {
      transform: scale(0.95);
    }

    /* –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ */
    #board {
      display: grid;
      grid-template-columns: repeat(3, 110px);
      grid-template-rows: repeat(3, 110px);
      gap: 14px;
      justify-content: center;
      margin-top: 50px;
      margin-bottom: 25px;
    }

    .cell {
      background: rgba(99, 2, 255, 0.12);
      border-radius: 22px;
      box-shadow:
        0 0 12px #00fff7,
        inset 0 0 18px #00fff7,
        inset 0 0 30px #008f8c;
      font-size: 4.5rem;
      color: #00fff7;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      transition:
        box-shadow 0.25s ease,
        transform 0.15s ease,
        color 0.3s ease;
      position: relative;
    }

    .cell:hover:not(.disabled) {
      box-shadow:
        0 0 28px #00fff7,
        inset 0 0 40px #00fff7,
        inset 0 0 60px #00e0d9;
      color: #ffffff;
      transform: scale(1.1);
      z-index: 2;
    }

    .cell.disabled {
      cursor: default;
      opacity: 0.5;
      pointer-events: none;
    }

    .cell:focus-visible {
      outline: none;
      box-shadow:
        0 0 40px #00fff7,
        inset 0 0 50px #00fff7,
        0 0 12px 4px #00fff7aa;
      transform: scale(1.1);
      z-index: 2;
    }

    /* –ù–µ–æ–Ω–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π */
    .cell.x {
      text-shadow:
        0 0 8px #ff009d,
        0 0 20px #ff009d,
        0 0 30px #ff009d,
        0 0 40px #ff009d;
      color: #ffffff;
    }

    .cell.o {
      text-shadow:
        0 0 8px #005eff,
        0 0 20px #005eff,
        0 0 30px #005eff,
        0 0 40px #005eff;
      color: #ffffff;
    }

    /* –†–µ–∑—É–ª—å—Ç–∞—Ç */
    #result {
      font-size: 1.7rem;
      font-weight: 700;
      min-height: 2.5em;
      color: #c6fffd;
      text-align: center;
      text-shadow:
        0 0 10px #00fff7,
        0 0 25px #00fff7;
      margin-bottom: 25px;
      user-select: text;
    }

    /* –ö–Ω–æ–ø–∫–∞ */
    button#restart {
      display: block;
      margin: 0 auto 25px;
      background: linear-gradient(170deg, #00fff7, #8f0086);
      border: none;
      color: #ffffff;
      font-size: 1.3rem;
      font-weight: 700;
      padding: 14px 40px;
      border-radius: 40px;
      cursor: pointer;
      box-shadow:
        0 0 5px #c6fffd,
        0 0 40px #00fff7;
      transition:
        background 0.4s ease,
        box-shadow 0.4s ease,
        transform 0.15s ease;
      user-select: none;
      letter-spacing: 0.1em;
      text-transform: uppercase;
    }

    button#restart:hover {
      background: linear-gradient(180deg, #ffffff, #9eefeb);
      color: #ff009d;
      box-shadow:
        0 0 60px #ff009d;
      transform: scale(1.05);
    }

    button#restart:active {
      transform: scale(0.95);
    }

    /* –°—Å—ã–ª–∫–∏ */
    a {
      color: #00fff7;
      text-decoration: none;
      font-weight: 700;
      transition: color 0.3s;
    }

    a:hover,
    a:focus-visible {
      color: #00e0d9;
      text-decoration: underline;
    }

    /* –§—É—Ç–µ—Ä */
    footer {
      margin-top: auto;
      padding-top: 12px;
      font-size: 0.9rem;
      color: #00fff7cc;
      text-align: center;
      width: 100%;
      max-width: 620px;
      letter-spacing: 0.04em;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤ */
    @media (max-width: 600px) {
      #board {
        grid-template-columns: repeat(3, 90px);
        grid-template-rows: repeat(3, 90px);
        gap: 12px;
      }

      .cell {
        font-size: 3.8rem;
        border-radius: 18px;
      }

      button#restart {
        padding: 13px 32px;
        font-size: 1.15rem;
      }

      #download-section button {
        font-size: 1.2rem;
        padding: 14px 38px;
      }

      section {
        padding: 20px 25px;
        max-width: 100%;
      }

      h1 {
        font-size: 2.4rem;
      }

      p.emphasis {
        font-size: 1.1rem;
      }
    }

    @media (max-width: 400px) {
      #board {
        grid-template-columns: repeat(3, 70px);
        grid-template-rows: repeat(3, 70px);
        gap: 10px;
      }

      .cell {
        font-size: 2.8rem;
        border-radius: 14px;
      }

      button#restart {
        padding: 11px 26px;
        font-size: 1rem;
      }

      #download-section button {
        font-size: 1rem;
        padding: 12px 30px;
      }

      h1 {
        font-size: 1.9rem;
      }

      p.emphasis {
        font-size: 0.95rem;
      }
    }


    strong {
      color: #00fff7;

    }
  </style>
</head>

<body>

  <h1>–ò–¥–µ–∞–ª—å–Ω—ã–π –¥–≤–∏–∂–æ–∫ –¥–ª—è –∫—Ä–µ—Å—Ç–∏–∫–æ–≤-–Ω–æ–ª–∏–∫–æ–≤</h1>
  <p class="emphasis">"–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–±–µ–¥–∏—Ç—å ‚Äî —Ç–æ–ª—å–∫–æ –Ω–∏—á—å—è –∏–ª–∏ –ø–æ–±–µ–¥–∞ –ò–ò"</p>

  <section>
    <h2>–û –ø—Ä–æ–µ–∫—Ç–µ</h2>
    <p><strong>¬´–ö–∏–±–µ—Ä–ø–∞–Ω–∫ –•–û¬ª</strong> ‚Äî —ç—Ç–æ –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∏–≥—Ä—ã –≤ –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏ —Å —Ñ—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–º –Ω–µ–æ–Ω–æ–≤—ã–º
      –¥–∏–∑–∞–π–Ω–æ–º, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Tkinter –¥–ª—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ò–≥—Ä–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç
      –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±—Ä–∞—Ç—å —Å–∏–º–≤–æ–ª (X –∏–ª–∏ O) –∏ —Å—Ä–∞–∑–∏—Ç—å—Å—è —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–º –ò–ò-–∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º.</p>
  </section>

  <section id="game">
    <h2>–ü—Ä–∏–º–µ—Ä –∏–≥—Ä–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞</h2>
    <div id="board" aria-label="–ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏" role="grid"></div>
    <div id="result" role="alert" aria-live="polite"></div>
    <button id="restart" aria-label="–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É">–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É</button>
  </section>

  <section>
    <h2>–û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π</h2>
    <h3>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã</h3>
    <ul>
      <li><strong>–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (GUI)</strong>: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ, –≤—ã–±–æ—Ä —Å–∏–º–≤–æ–ª–∞,
        —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–π –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.</li>
      <li><strong>–ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞</strong>: –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ö–æ–¥–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã, –Ω–∏—á—å–∏, –∑–∞–ø—Ä–µ—Ç –Ω–∞ —Ö–æ–¥—ã –≤ –∑–∞–Ω—è—Ç—ã–µ –∫–ª–µ—Ç–∫–∏.
      </li>
      <li><strong>–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç (–ò–ò)</strong>: —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—â–∞—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–±–µ–¥—ã –Ω–∞–¥ –ò–ò, —Å
        –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –≤—ã–∏–≥—Ä—ã—à–∞, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ –≤—ã–±–æ—Ä–∞ —Ü–µ–Ω—Ç—Ä–∞ –∏–ª–∏ —É–≥–ª–æ–≤.</li>
      <li><strong>–•—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏</strong>: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SQLite –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∏–≥—Ä –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
      </li>
      <li><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</strong>: —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∫–Ω–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        –¥–∞–Ω–Ω—ã—Ö.</li>
    </ul>
  </section>

  <section>
    <h2>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏</h2>
    <h3>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π</h3>
    <ul>
      <li><strong>Python</strong>: –ø—Ä–æ—Å—Ç–æ–π –∏ –º–æ—â–Ω—ã–π —è–∑—ã–∫ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ –∏ –ò–ò.</li>
      <li><strong>Tkinter</strong>: –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Python –¥–ª—è –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–≥–æ GUI –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö
        –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.</li>
      <li><strong>SQLite</strong>: –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.</li>
      <li><strong>functools.partial</strong>: —É–¥–æ–±—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π.</li>
    </ul>
  </section>
  <section>
    <h2>–í—ã–≤–æ–¥—ã –ø–æ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ</h2>
    <ul>
      <li>–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —É–¥–æ–±–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–≥—Ä—ã.</li>
      <li>–°–æ–∑–¥–∞–Ω –∏–¥–µ–∞–ª—å–Ω—ã–π –ò–ò, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–±–µ–¥–∏—Ç—å.</li>
      <li>–û–±–µ—Å–ø–µ—á–µ–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.</li>
      <li>–í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã –¥–ª—è –∑–∞–¥–∞—á–∏.</li>
      <li>–ü—Ä–æ–µ–∫—Ç —Å–ª—É–∂–∏—Ç –æ—Ç–ª–∏—á–Ω–æ–π —É—á–µ–±–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –ò–ò, GUI –∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.</li>
    </ul>
  </section>



  <section id="image-section" aria-label="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–≥—Ä—ã –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏">
    <h2>–°–∫—Ä–∏–Ω—à–æ—Ç –∏–≥—Ä—ã</h2>
    <img src="image/screen.png" alt="–ò–¥–µ–∞–ª—å–Ω—ã–π –¥–≤–∏–∂–æ–∫ –¥–ª—è –∫—Ä–µ—Å—Ç–∏–∫–æ–≤-–Ω–æ–ª–∏–∫–æ–≤: –ø—Ä–∏–º–µ—Ä –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è —Å –Ω–µ–æ–Ω–æ–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º"
      tabindex="0" />
  </section>

  <section id="download-section" aria-label="–°–µ–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è">
    <button id="download-btn" aria-label="–°–∫–∞—á–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏">–°–∫–∞—á–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
  </section>

  <footer>
    <p>–ê–≤—Ç–æ—Ä: Kiselnikova Ksenia | <a href="https://github.com/JinKsiKey/TicTacToe" target="_blank"
        rel="noopener noreferrer">–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub</a></p>
  </footer>

  <script>
    const human = 'X';
    const ai = 'O';
    let board = Array(9).fill(null);
    const boardElement = document.getElementById('board');
    const resultElement = document.getElementById('result');
    const restartBtn = document.getElementById('restart');
    const downloadBtn = document.getElementById('download-btn');

    function renderBoard() {
      boardElement.innerHTML = '';
      board.forEach((cell, idx) => {
        const cellDiv = document.createElement('div');
        cellDiv.classList.add('cell');
        if (cell) {
          cellDiv.textContent = cell;
          cellDiv.classList.add(cell.toLowerCase());
        }
        if (checkWinner(board) || board[idx]) {
          cellDiv.classList.add('disabled');
        }
        cellDiv.setAttribute('role', 'gridcell');
        cellDiv.setAttribute('tabindex', cell ? '-1' : '0');
        cellDiv.addEventListener('click', () => humanMove(idx));
        cellDiv.addEventListener('keydown', e => {
          if ((e.key === 'Enter' || e.key === ' ') && !board[idx] && !checkWinner(board)) {
            humanMove(idx);
            e.preventDefault();
          }
        });
        boardElement.appendChild(cellDiv);
      });
    }

    function humanMove(idx) {
      if (board[idx] || checkWinner(board)) return;
      board[idx] = human;
      renderBoard();
      if (checkWinner(board)) {
        endGame();
        return;
      }
      if (board.every(Boolean)) {
        endGame();
        return;
      }
      setTimeout(() => {
        aiMove();
      }, 350);
    }

    function aiMove() {
      const bestMove = minimax(board, ai).index;
      board[bestMove] = ai;
      renderBoard();
      if (checkWinner(board)) {
        endGame();
        return;
      }
      if (board.every(Boolean)) {
        endGame();
        return;
      }
    }

    function checkWinner(bd) {
      const winCombos = [
        [0, 1, 2], [3, 4, 5], [6, 7, 8],
        [0, 3, 6], [1, 4, 7], [2, 5, 8],
        [0, 4, 8], [2, 4, 6]
      ];
      for (let combo of winCombos) {
        const [a, b, c] = combo;
        if (bd[a] && bd[a] === bd[b] && bd[a] === bd[c]) {
          return bd[a];
        }
      }
      return null;
    }

    function endGame() {
      const winner = checkWinner(board);
      if (winner === human) {
        resultElement.textContent = '–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏! (–Ω–æ —ç—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ üòâ)';
      } else if (winner === ai) {
        resultElement.textContent = '–ò–ò –≤—ã–∏–≥—Ä–∞–ª. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!';
      } else {
        resultElement.textContent = '–ù–∏—á—å—è!';
      }
    }

    function minimax(newBoard, player) {
      const availSpots = newBoard.map((v, i) => v ? null : i).filter(v => v !== null);

      const winner = checkWinner(newBoard);
      if (winner === human) {
        return { score: -10 };
      } else if (winner === ai) {
        return { score: 10 };
      } else if (availSpots.length === 0) {
        return { score: 0 };
      }

      const moves = [];

      for (let i = 0; i < availSpots.length; i++) {
        const idx = availSpots[i];
        const move = {};
        move.index = idx;
        newBoard[idx] = player;

        if (player === ai) {
          const result = minimax(newBoard, human);
          move.score = result.score;
        } else {
          const result = minimax(newBoard, ai);
          move.score = result.score;
        }

        newBoard[idx] = null;
        moves.push(move);
      }

      let bestMove;
      if (player === ai) {
        let bestScore = -Infinity;
        for (let i = 0; i < moves.length; i++) {
          if (moves[i].score > bestScore) {
            bestScore = moves[i].score;
            bestMove = moves[i];
          }
        }
      } else {
        let bestScore = Infinity;
        for (let i = 0; i < moves.length; i++) {
          if (moves[i].score < bestScore) {
            bestScore = moves[i].score;
            bestMove = moves[i];
          }
        }
      }
      return bestMove;
    }

    restartBtn.addEventListener('click', () => {
      board = Array(9).fill(null);
      resultElement.textContent = '';
      renderBoard();
    });


    downloadBtn.addEventListener('click', () => {
      const link = document.createElement('a');
      link.href = '/downloads/Cyberpunk_XO.zip';
      link.download = 'Cyberpunk_XO.zip';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    });

    renderBoard();
  </script>

</body>

</html>